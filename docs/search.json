[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "PEC3-COVID-19: Outbreak prediction combining meteorological, mobility and demographic data.",
    "section": "",
    "text": "Preface\nThis is a Quarto book.\nTo learn more about Quarto books visit https://quarto.org/docs/books.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "Introduction",
    "section": "",
    "text": "Two years after the start of the pandemic, Spain is facing the sixth wave with a cumulative total of 11 million infected and almost 100,000 deaths [link]. The high vaccination rate has cushioned the impact of the new variants of COVID-19. However, the relative ignorance of the virus, as well as the inability of administrations to predict its outbreaks, continue to put the health system at risk.\nTransmission of the virus occurs primarily through exhalation of very small respiratory droplets and particles that contain the virus even when the infected person has no symptoms. According to the World Health Organization (WHO), infected people are apparently most contagious just before symptoms appear (about two days before) and in the first phase of the disease [link]. Said respiratory particles can be inhaled by people and/or deposit on their eyes, nose or mouth.\nThe current measures that governments are taking to mitigate the socioeconomic impact of COVID-19 and support the economic recovery of the countries seem to have a tendency towards coexistence with the virus. This strategy is mainly supported by the high vaccination rate that minimizes the potential health effects of the virus. Given this scenario, obtaining a prediction model that includes factors considered key in transmission will be vital for proper optimization of the health system’s resources.\nThe main objective of this work will be the use of machine learning techniques applied to time series for the prediction of COVID-19 outbreaks. For this, meteorological data and mobility data will be used, detailing demographic factors as far as possible.\n\nObjetives\nThe main objectives are:\n\nIdentify whether meteorological and mobility factors are important in predicting COVID-19 outbreaks.\nUse of machine learning and time series prediction techniques for modeling the evolution of the virus.\n\nFor which, it will be necessary to achieve a series of secondary objectives:\n\nIdentification of relevant data and study of the possibilities they offer.\nUnderstand the behavior of the virus by analyzing the medical literature Identification of machine learning and prediction techniques that best suit the purpose of our project."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "index.html#welcome",
    "href": "index.html#welcome",
    "title": "PEC3 - COVID-19 Outbreak prediction",
    "section": "Welcome",
    "text": "Welcome\nThis is the website for the master’s thesis “COVID-19: Outbreak prediction combining meteorological, mobility and demographic data” for UOC’s master in Data Science.\nThis book contains the development of the third working package (PEC3) with delivery date 15-may-2022.\nThroughout the book, it is exposed the acquisition, cleaning and exploration process of the starting data. It also includes the development of the predictive models used for outbreak prediction and the results obtained.\n\n\n\n\n\n\nThis book was written with the Quarto publishing system and hosted at https://jperezord.github.io/ using Github pages."
  },
  {
    "objectID": "index.html#license",
    "href": "index.html#license",
    "title": "PEC3 - COVID-19 Outbreak prediction",
    "section": "License",
    "text": "License\nThis work is under an Attribution-NonCommercial-NoDerivs work license 3.0 (CC BY-NC-ND 3.0) 3.0 CreativeCommons\n© 2022 GitHub, Inc.\n\nTerms\nPrivacy\nSecurity\nStatus\nDocs\nContact GitHub\nPricing\nAPI\nTraining\nBlog\nAbout"
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "Task 1: Data acquisition and exploration",
    "section": "",
    "text": "DESCRIPCION DE TODOS LOS DATOS UTILIZADOS"
  },
  {
    "objectID": "cne_data.html",
    "href": "cne_data.html",
    "title": "1  CNE data",
    "section": "",
    "text": "Load packages:\n\n# loading of packages required for the analyses\npacman::p_load(\n      here,      # file locator\n      tidyverse, # data management and ggplot2 graphics\n      skimr      # get overview of data\n)\n\nNumber of cases by diagnostic technique and province of residence [link]:\n\nprovincia_iso: ISO code of the province of residence.\nfecha: date [From pandemic onset to May 10, the date of symptom onset or, if not, the date of diagnosis minus 6 days. symptoms or, in the absence of symptoms, the date of diagnosis minus 6 days. From May 11, the date of symptom onset, or in the absence thereof, the date of diagnosis minus 3 days, or the date of diagnosis for cases date of diagnosis minus 3 days, or the date of diagnosis for asymptomatic cases. asymptomatic cases.\nnum_casos: Number of cases by diagnostic technique and province of residence.\nnum_casos_prueba_pcr: Number of cases with PCR laboratory test or molecular techniques.\nnum_casos_prueba_test_ac: Number of cases with laboratory test of rapid antibody test.\nnum_casos_prueba_ag: Number of cases with laboratory test of antigen detection test antigen test.\nnum_casos_prueba_elisa: Number of cases with high-resolution serology laboratory testing.\nnum_casos_prueba_desconocida: Number of cases without information on laboratory testing.\n\n\ncne_data <- read_csv(\n        file = here(\"data\", \"raw\", \"casos_tecnica_provincia.csv\")\n)\n\nRows: 43407 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (1): provincia_iso\ndbl  (6): num_casos, num_casos_prueba_pcr, num_casos_prueba_test_ac, num_cas...\ndate (1): fecha\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\nskim(cne_data)\n\n\nData summary\n\n\nName\ncne_data\n\n\nNumber of rows\n43407\n\n\nNumber of columns\n8\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nDate\n1\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nprovincia_iso\n819\n0.98\n1\n2\n0\n52\n0\n\n\n\nVariable type: Date\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\nfecha\n0\n1\n2020-01-01\n2022-03-29\n2021-02-13\n819\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nnum_casos\n0\n1\n265.67\n973.38\n0\n11\n58\n184\n34701\n▇▁▁▁▁\n\n\nnum_casos_prueba_pcr\n0\n1\n122.34\n328.97\n0\n7\n36\n109\n10167\n▇▁▁▁▁\n\n\nnum_casos_prueba_test_ac\n0\n1\n0.11\n0.97\n0\n0\n0\n0\n32\n▇▁▁▁▁\n\n\nnum_casos_prueba_ag\n0\n1\n128.28\n715.58\n0\n0\n8\n50\n31073\n▇▁▁▁▁\n\n\nnum_casos_prueba_elisa\n0\n1\n0.11\n1.12\n0\n0\n0\n0\n55\n▇▁▁▁▁\n\n\nnum_casos_prueba_desconocida\n0\n1\n14.83\n101.87\n0\n0\n0\n0\n3418\n▇▁▁▁▁"
  },
  {
    "objectID": "cne_data.html#cne-diagnostic-technique",
    "href": "cne_data.html#cne-diagnostic-technique",
    "title": "1  CNE data",
    "section": "1.1 CNE diagnostic technique",
    "text": "1.1 CNE diagnostic technique\nNumber of cases by diagnostic technique and province of residence [link]:\n\nprovincia_iso: ISO code of the province of residence.\nfecha: date [From pandemic onset to May 10, the date of symptom onset or, if not, the date of diagnosis minus 6 days. symptoms or, in the absence of symptoms, the date of diagnosis minus 6 days. From May 11, the date of symptom onset, or in the absence thereof, the date of diagnosis minus 3 days, or the date of diagnosis for cases date of diagnosis minus 3 days, or the date of diagnosis for asymptomatic cases. asymptomatic cases.\nnum_casos: Number of cases by diagnostic technique and province of residence.\nnum_casos_prueba_pcr: Number of cases with PCR laboratory test or molecular techniques.\nnum_casos_prueba_test_ac: Number of cases with laboratory test of rapid antibody test.\nnum_casos_prueba_ag: Number of cases with laboratory test of antigen detection test antigen test.\nnum_casos_prueba_elisa: Number of cases with high-resolution serology laboratory testing.\nnum_casos_prueba_desconocida: Number of cases without information on laboratory testing.\n\n\ncne_tecnica <- read_csv(\n      file = here(\"data\", \"raw\", \"casos_tecnica_provincia.csv\"),\n      show_col_types = FALSE\n)\n\nskim(cne_tecnica)\n\n\nData summary\n\n\nName\ncne_tecnica\n\n\nNumber of rows\n43407\n\n\nNumber of columns\n8\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n1\n\n\nDate\n1\n\n\nnumeric\n6\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nprovincia_iso\n819\n0.98\n1\n2\n0\n52\n0\n\n\n\nVariable type: Date\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\nfecha\n0\n1\n2020-01-01\n2022-03-29\n2021-02-13\n819\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nnum_casos\n0\n1\n265.67\n973.38\n0\n11\n58\n184\n34701\n▇▁▁▁▁\n\n\nnum_casos_prueba_pcr\n0\n1\n122.34\n328.97\n0\n7\n36\n109\n10167\n▇▁▁▁▁\n\n\nnum_casos_prueba_test_ac\n0\n1\n0.11\n0.97\n0\n0\n0\n0\n32\n▇▁▁▁▁\n\n\nnum_casos_prueba_ag\n0\n1\n128.28\n715.58\n0\n0\n8\n50\n31073\n▇▁▁▁▁\n\n\nnum_casos_prueba_elisa\n0\n1\n0.11\n1.12\n0\n0\n0\n0\n55\n▇▁▁▁▁\n\n\nnum_casos_prueba_desconocida\n0\n1\n14.83\n101.87\n0\n0\n0\n0\n3418\n▇▁▁▁▁\n\n\n\n\n\n\ncne_tecnica %>%  \n      tabyl(provincia_iso) %>% \n      adorn_pct_formatting() %>%\n      adorn_title(row_name = \"Province\")\n\n                                 NA\n Province   n percent valid_percent\n        A 819    1.9%          1.9%\n       AB 819    1.9%          1.9%\n       AL 819    1.9%          1.9%\n       AV 819    1.9%          1.9%\n        B 819    1.9%          1.9%\n       BA 819    1.9%          1.9%\n       BI 819    1.9%          1.9%\n       BU 819    1.9%          1.9%\n        C 819    1.9%          1.9%\n       CA 819    1.9%          1.9%\n       CC 819    1.9%          1.9%\n       CE 819    1.9%          1.9%\n       CO 819    1.9%          1.9%\n       CR 819    1.9%          1.9%\n       CS 819    1.9%          1.9%\n       CU 819    1.9%          1.9%\n       GC 819    1.9%          1.9%\n       GI 819    1.9%          1.9%\n       GR 819    1.9%          1.9%\n       GU 819    1.9%          1.9%\n        H 819    1.9%          1.9%\n       HU 819    1.9%          1.9%\n        J 819    1.9%          1.9%\n        L 819    1.9%          1.9%\n       LE 819    1.9%          1.9%\n       LO 819    1.9%          1.9%\n       LU 819    1.9%          1.9%\n        M 819    1.9%          1.9%\n       MA 819    1.9%          1.9%\n       ML 819    1.9%          1.9%\n       MU 819    1.9%          1.9%\n       NC 819    1.9%          1.9%\n        O 819    1.9%          1.9%\n       OR 819    1.9%          1.9%\n        P 819    1.9%          1.9%\n       PM 819    1.9%          1.9%\n       PO 819    1.9%          1.9%\n        S 819    1.9%          1.9%\n       SA 819    1.9%          1.9%\n       SE 819    1.9%          1.9%\n       SG 819    1.9%          1.9%\n       SO 819    1.9%          1.9%\n       SS 819    1.9%          1.9%\n        T 819    1.9%          1.9%\n       TE 819    1.9%          1.9%\n       TF 819    1.9%          1.9%\n       TO 819    1.9%          1.9%\n        V 819    1.9%          1.9%\n       VA 819    1.9%          1.9%\n       VI 819    1.9%          1.9%\n        Z 819    1.9%          1.9%\n       ZA 819    1.9%          1.9%\n     <NA> 819    1.9%             -\n\n\nCleaning NAs\n\ncne_tecnica <- cne_tecnica %>% \n      drop_na(provincia_iso)"
  },
  {
    "objectID": "cne_data.html#cne-hospitalizations",
    "href": "cne_data.html#cne-hospitalizations",
    "title": "1  CNE data",
    "section": "1.2 CNE hospitalizations",
    "text": "1.2 CNE hospitalizations\nNumber of cases, hospitalisations, admissions to ICU and deaths by sex, age and province of residence [link]:\n\nprovincia_iso:ISO code of the province of residence.\nfecha:\n\nCases: For cases prior to 11-May, the date of diagnosis is used, in its absence the date of declaration to the community and, in its absence, the key date (key date). the date of declaration to the community and, in its absence, the key date (date used for statistics by the Autonomous used for statistics by the Autonomous Regions). In cases after 10 May, in the absence of a diagnosis date, the date used is the date of diagnosis. date of diagnosis, the key date is used.\nHospitalisations, ICU admissions, deaths: hospitalised cases are represented by date of hospitalisation (failing this, date of diagnosis, and if not, date of death).\n\nsexo: sex of cases: H (male), M (female), NC (not stated)\ngrupo_edad: age group to which the case belongs: 0-9, 10-19, 20-29, 30-39, 40-49, 50-59, 60-69, 70-79, ≥80 years. NC: not stated\nnum_casos: number of reported cases confirmed as having a positive diagnostic test for active infection (PDIA) as infection (PDIA) as set out in the Early Detection Strategy, surveillance and control strategy for COVID-19 and in addition cases notified before 11-May that required hospitalisation, ICU admission or required hospitalisation, ICU admission or died with a clinical diagnosis of COVID19, according to the case definitions in force at the time.\nnum_hosp: number of hospitalised cases\nnum_uci: number of cases admitted to ICU\nnum_def: number of deaths\n\n\ncne_hosp_data <- read_csv(\n      file = here(\"data\", \"raw\", \"casos_hosp_uci_def_sexo_edad_provres.csv\"),\n      show_col_types = FALSE\n)\n\nskim(cne_hosp_data)\n\n\nData summary\n\n\nName\ncne_hosp_data\n\n\nNumber of rows\n1302210\n\n\nNumber of columns\n8\n\n\n_______________________\n\n\n\nColumn type frequency:\n\n\n\ncharacter\n3\n\n\nDate\n1\n\n\nnumeric\n4\n\n\n________________________\n\n\n\nGroup variables\nNone\n\n\n\nVariable type: character\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nempty\nn_unique\nwhitespace\n\n\n\n\nprovincia_iso\n24570\n0.98\n1\n2\n0\n52\n0\n\n\nsexo\n0\n1.00\n1\n2\n0\n3\n0\n\n\ngrupo_edad\n0\n1.00\n2\n5\n0\n10\n0\n\n\n\nVariable type: Date\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmin\nmax\nmedian\nn_unique\n\n\n\n\nfecha\n0\n1\n2020-01-01\n2022-03-29\n2021-02-13\n819\n\n\n\nVariable type: numeric\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nskim_variable\nn_missing\ncomplete_rate\nmean\nsd\np0\np25\np50\np75\np100\nhist\n\n\n\n\nnum_casos\n0\n1\n8.86\n50.52\n0\n0\n0\n4\n3741\n▇▁▁▁▁\n\n\nnum_hosp\n0\n1\n0.39\n2.49\n0\n0\n0\n0\n270\n▇▁▁▁▁\n\n\nnum_uci\n0\n1\n0.04\n0.31\n0\n0\n0\n0\n35\n▇▁▁▁▁\n\n\nnum_def\n0\n1\n0.08\n0.80\n0\n0\n0\n0\n100\n▇▁▁▁▁\n\n\n\n\n\n\ncne_hosp_data %>% \n      tabyl(provincia_iso, sexo) %>% \n      adorn_totals(where = \"col\") %>% \n      adorn_percentages(denominator = \"col\") %>% \n      adorn_pct_formatting() %>% \n      adorn_ns(position = \"front\") %>% \n      adorn_title(\n            row_name = \"Province\",\n            col_name = \"Gender\",\n            placement = \"combined\") %>% # this is necessary to print as image\n      flextable::flextable() %>%        # convert to pretty image\n      flextable::autofit()              # format to one line per row \n\n\n\n\n\n\n\nCleaning NAs\n\ncne_hosp_data <- cne_hosp_data %>% \n      drop_na(provincia_iso)"
  },
  {
    "objectID": "cne_data.html#combination",
    "href": "cne_data.html#combination",
    "title": "1  CNE data",
    "section": "1.3 Combination",
    "text": "1.3 Combination\nWe proceed to combine both datasets.\nBefore combine it is neccesary to group the demographic data from the hospitalisation dataframe.\n\ncne_hosp_data_grouped <-  cne_hosp_data %>% \n      group_by(provincia_iso, fecha) %>% \n      summarise_at(vars(num_casos, num_hosp, num_uci, num_def), sum)\n\n\ncne_data <- inner_join(cne_tecnica, cne_hosp_data_grouped, by=c(\"provincia_iso\", \"fecha\"))\ncne_data\n\n# A tibble: 42,588 × 12\n   provincia_iso fecha      num_casos.x num_casos_prueba_pcr num_casos_prueba_t…\n   <chr>         <date>           <dbl>                <dbl>               <dbl>\n 1 A             2020-01-01           0                    0                   0\n 2 AB            2020-01-01           0                    0                   0\n 3 AL            2020-01-01           0                    0                   0\n 4 AV            2020-01-01           0                    0                   0\n 5 B             2020-01-01           0                    0                   0\n 6 BA            2020-01-01           0                    0                   0\n 7 BI            2020-01-01           0                    0                   0\n 8 BU            2020-01-01           0                    0                   0\n 9 C             2020-01-01           0                    0                   0\n10 CA            2020-01-01           0                    0                   0\n# … with 42,578 more rows, and 7 more variables: num_casos_prueba_ag <dbl>,\n#   num_casos_prueba_elisa <dbl>, num_casos_prueba_desconocida <dbl>,\n#   num_casos.y <dbl>, num_hosp <dbl>, num_uci <dbl>, num_def <dbl>"
  }
]